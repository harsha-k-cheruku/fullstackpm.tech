<div class="mt-6 rounded-xl border p-4" style="border-color: var(--color-border); background-color: var(--color-bg-primary);">
  <div>
    <h2 class="text-h4">Cohort Analysis</h2>
    <p class="text-small" style="color: var(--color-text-tertiary);">Month 1 vs Month 2 revenue</p>
  </div>
  <div class="mt-4 overflow-x-auto">
    <table class="w-full text-sm">
      <thead style="background-color: var(--color-bg-secondary);">
        <tr>
          <th class="px-3 py-2 text-left text-xs font-semibold uppercase tracking-[0.12em]">Cohort</th>
          <th class="px-3 py-2 text-left text-xs font-semibold uppercase tracking-[0.12em]">Month 1 Revenue</th>
          <th class="px-3 py-2 text-left text-xs font-semibold uppercase tracking-[0.12em]">Month 2 Revenue</th>
          <th class="px-3 py-2 text-left text-xs font-semibold uppercase tracking-[0.12em]">Retention</th>
        </tr>
      </thead>
      <tbody>
        {% for row in snapshot.cohorts %}
        <tr class="border-t" style="border-color: var(--color-border);">
          <td class="px-3 py-2">{{ row.cohort }}</td>
          <td class="px-3 py-2">${{ "%.0f" | format(row.month1_revenue) }}</td>
          <td class="px-3 py-2">${{ "%.0f" | format(row.month2_revenue) }}</td>
          <td class="px-3 py-2">{{ "%.1f" | format(row.retention_pct) }}%</td>
        </tr>
        {% else %}
        <tr>
          <td colspan="4" class="px-3 py-6 text-center text-sm" style="color: var(--color-text-tertiary);">
            No cohort data available.
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
